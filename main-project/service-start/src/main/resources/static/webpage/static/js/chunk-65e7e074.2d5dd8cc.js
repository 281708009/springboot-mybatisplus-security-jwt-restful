(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65e7e074"],{"06a2":function(e,t,n){t=e.exports=n("24fb")(!0),t.push([e.i,".fade-enter[data-v-3384d823]{opacity:0;transform:translateX(10px)}.fade-enter-active[data-v-3384d823]{transition:all .3s}.fade-leave-active[data-v-3384d823]{transition:all .3s;opacity:0;transform:translateX(10px)}","",{version:3,sources:["H:/WORKWORK_TEST/vue-elementui-admin-sample/src/views/Layout/src/views/Layout/index.vue"],names:[],mappings:"AA8HA,6BACA,SAAA,CACA,0BACA,CAEA,oCACA,kBACA,CAEA,oCACA,kBAAA,CACA,SAAA,CACA,0BACA",file:"index.vue?vue&type=style&index=0&id=3384d823&scoped=true&lang=css&",sourcesContent:["<template>\n  <div style=\"position: absolute;height: 100%;width: 100%;\">\n    <el-container>\n      <NavBar style=\"position:absolute;top:0;left:0;width:100%;height: 50px;border-bottom:1px solid #BFBFBF;overflow: hidden;box-sizing: border-box\" ref=\"NavBar\"/>\n      <SideBar style=\"position:absolute;top:50px;left:0;bottom: 0;overflow-x: hidden;width:180px;background-color: rgb(84, 92, 100)\" ref=\"SideBar\"/>\n      <TagsBar style=\"position:absolute;top:50px;left:180px;right:0;height: 30px\" ref=\"TagsBar\"/>\n      <div style=\"position:absolute;top:80px;left:180px;right:0;bottom: 0;overflow-x: hidden\">\n        <transition name=\"fade\" mode=\"out-in\">\n          <router-view/>\n        </transition>\n      </div>\n    </el-container>\n  </div>\n</template>\n\n<script>\n  import { mapActions } from 'vuex';\n  import SideBar from 'src/views/Layout/SideBar';\n  import NavBar from 'src/views/Layout/NavBar';\n  import TagsBar from 'src/views/Layout/TagsBar';\n  import * as Cookies from 'src/utils/cookies';\n  import AuthApi from 'src/api/auth-api';\n  import Global from 'src/utils/global';\n  import { getTokenOrRedirect } from 'src/utils/cookies';\n  import { Notification } from 'element-ui';\n\n  export default {\n    name: 'Home',\n    components: {\n      SideBar,\n      NavBar,\n      TagsBar,\n    },\n    data() {\n      return {\n        timer: true,\n      };\n    },\n    sockets: {\n      listener: {\n        broadcast(data) {//监听广播事件\n          Notification.info({\n            title: '广播：' + data.msg,\n            position: 'bottom-right',\n          });\n        },\n        msgToOneUser(data) {//监听发送给本用户信息事件\n          Notification.info({\n            title: '新消息：' + data.msg,\n            position: 'bottom-right',\n          });\n        },\n        reconnecting(data) {\n          if (data >= 3) {\n            //重试3次就不重连了。这里应该改成从http端口获取后台的配置，若开启了socket服务，再连接，否则不进行连接\n            this.$socket.disconnect();\n          }\n        },\n      }\n    },\n    created() {\n      this.initContentHeight();\n      this.initUserInfo();\n    },\n    mounted() {\n      if (this.$socket) {\n        if (this.$socket.connected) {\n          this.$socket.disconnect();\n        }\n        this.$socket.io.uri = Global.SOCKET_URL + '?token=' + getTokenOrRedirect();\n        this.$socket.connect();\n      }\n    },\n    beforeDestroy() {\n      if (this.$socket) {\n        this.$socket.disconnect();\n      }\n    },\n    methods: {\n      ...mapActions('layout', {\n        setContentHeight: 'setContentHeight',\n        setContentWidth: 'setContentWidth',\n      }),\n      setSize() {\n        let navBarHeight = 0;\n        if (this.$refs.NavBar && this.$refs.NavBar.$el && this.$refs.NavBar.$el.offsetHeight) {\n          navBarHeight = this.$refs.NavBar.$el.offsetHeight;\n        }\n        let tagsBarHeight = 0;\n        if (this.$refs.TagsBar && this.$refs.TagsBar.$el && this.$refs.TagsBar.$el.offsetHeight) {\n          tagsBarHeight = this.$refs.TagsBar.$el.offsetHeight;\n        }\n        this.setContentHeight(window.innerHeight - navBarHeight - tagsBarHeight);\n        this.setContentWidth(window.innerWidth);\n      },\n      initContentHeight() {\n        this.$nextTick(() => {//初始化时设置高度\n          this.setSize();\n        });\n        window.onresize = () => {//窗口大小改变设置高度，限制更新频率\n          if (this.timer) {\n            this.setSize();\n            setTimeout(() => {\n              this.timer = true;\n            }, 16);\n          }\n        };\n      },\n      initUserInfo() {\n        AuthApi.getAuthInfo()\n          .then(({ data }) => {\n            let user = data.data.user;\n            Cookies.setLoginInfo(user);\n            Cookies.getLoginInfoOrRedirect();\n            this.$refs.NavBar.initNickname(user.nickname);\n            this.$refs.SideBar.initSideBar(user.permissionValueList);\n          });\n      },\n    },\n\n  };\n<\/script>\n\n<style scoped>\n\n  /*切换效果fade-xxx*/\n  .fade-enter {\n    opacity: 0;\n    transform: translateX(10px);\n  }\n\n  .fade-enter-active {\n    transition: all .3s;\n  }\n\n  .fade-leave-active {\n    transition: all .3s;\n    opacity: 0;\n    transform: translateX(10px);\n  }\n\n</style>\n"]}])},"0d22":function(e,t,n){var r=n("2126");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("2714e0de",r,!0,{sourceMap:!0,shadowMode:!1})},"0ea2":function(e,t,n){var r=n("a36a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("cf4fa1b0",r,!0,{sourceMap:!0,shadowMode:!1})},1169:function(e,t,n){var r=n("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"11e9":function(e,t,n){var r=n("52a7"),i=n("4630"),o=n("6821"),a=n("6a99"),s=n("69a8"),l=n("c69a"),c=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},1681:function(e,t,n){var r=n("4e6f");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("7292d9b8",r,!0,{sourceMap:!0,shadowMode:!1})},"18e6":function(e,t,n){"use strict";var r=n("0d22"),i=n.n(r);i.a},2126:function(e,t,n){t=e.exports=n("24fb")(!0),t.push([e.i,".tags-view-container .tags-view-item .el-icon-close{width:16px;height:16px;vertical-align:2px;border-radius:50%;text-align:center;transition:all .3s cubic-bezier(.645,.045,.355,1);transform-origin:100% 50%}.tags-view-container .tags-view-item .el-icon-close:before{transform:scale(.6);display:inline-block;vertical-align:-3px}.tags-view-container .tags-view-item .el-icon-close:hover{background-color:#b4bccc;color:#fff}","",{version:3,sources:["H:/WORKWORK_TEST/vue-elementui-admin-sample/src/views/Layout/TagsBar/src/views/Layout/TagsBar/index.vue"],names:[],mappings:"AA4IA,oDACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,iBAAA,CACA,iBAAA,CACA,iDAAA,CACA,yBACA,CAEA,2DACA,mBAAA,CACA,oBAAA,CACA,mBACA,CAEA,0DACA,wBAAA,CACA,UACA",file:"index.vue?vue&type=style&index=1&lang=css&",sourcesContent:["<template>\r\n  <scroll-pane class='tags-view-container' ref='scrollPane'>\r\n    <router-link ref='tag' class=\"tags-view-item\" :class=\"isActive(tag)?'active':''\" v-for=\"tag in visitedViews\" :to=\"tag.path\" :key=\"tag.path\">\r\n      {{ tag.meta.title }}<span v-if=\"tag.meta.title!=='首页'\" class='el-icon-close' @click='closeViewTags(tag,$event)'/>\r\n    </router-link>\r\n  </scroll-pane>\r\n</template>\r\n\r\n<script>\r\n  import ScrollPane from './ScrollPanel';\r\n  import HOME_ROUTE_DEFINITION from '../HomeRouteDefinition';\r\n\r\n  export default {\r\n    name: 'TagsBar',\r\n    data() {\r\n      return {\r\n        visitedViews: [\r\n          HOME_ROUTE_DEFINITION\r\n        ],\r\n      };\r\n    },\r\n    components: { ScrollPane },\r\n    mounted() {\r\n      this.addViewTags();\r\n    },\r\n    methods: {\r\n      closeViewTags(view, $event) {\r\n        //遍历数组删除tag\r\n        let tagIndex = 0;\r\n        for (const [i, v] of this.visitedViews.entries()) {\r\n          if (v.path === view.path) {\r\n            this.visitedViews.splice(i, 1);\r\n            tagIndex = i;\r\n            break;\r\n          }\r\n        }\r\n        //如果删除的tag是激活的状态，需跳转页面\r\n        if (this.isActive(view)) {\r\n          //总是跳到当前激活tag的前一个，如果没有前一个，就跳到下一个\r\n          const latestView = this.visitedViews.slice(Math.max(tagIndex - 1, 0))[0];\r\n          if (latestView) {\r\n            this.$router.push(latestView.path);\r\n          } else {\r\n            this.$router.push('/home');\r\n          }\r\n        }\r\n        $event.preventDefault();\r\n      },\r\n      generateRoute() {\r\n        if (this.$route.name) {\r\n          return this.$route;\r\n        }\r\n        return null;\r\n      },\r\n      addViewTags() {\r\n        const route = this.generateRoute();\r\n        if (route == null) {\r\n          console.log('此路由信息没有name值，请修改');\r\n          return false;\r\n        }\r\n        if (this.visitedViews.some(v => v.path === route.path)) return;\r\n        this.visitedViews.push({\r\n          path: route.path,\r\n          meta: { title: route.meta.title }\r\n        });\r\n        console.log('this.visitedViews',this.visitedViews)\r\n      },\r\n      isActive(route) {\r\n        return route.path === this.$route.path || route.name === this.$route.name;\r\n      },\r\n      moveToCurrentTag() {\r\n        const tags = this.$refs.tag;\r\n        this.$nextTick(() => {\r\n          for (const tag of tags) {\r\n            if (tag.to === this.$route.path) {\r\n              this.$refs.scrollPane.moveToTarget(tag.$el);\r\n              break;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    watch: {\r\n      $route() {\r\n        this.addViewTags();\r\n        this.moveToCurrentTag();\r\n      }\r\n    }\r\n  };\r\n<\/script>\r\n\r\n<style scoped>\r\n  .tags-view-container {\r\n    background: #fff;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #d8dce5;\r\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 0 3px 0 rgba(0, 0, 0, 0.04);\r\n  }\r\n\r\n  .tags-view-container .tags-view-item {\r\n    display: inline-block;\r\n    position: relative;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    border: 1px solid #d8dce5;\r\n    background: #fff;\r\n    padding: 0 8px;\r\n    font-size: 12px;\r\n    margin-left: 5px;\r\n    margin-top: 4px;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n    color: #666;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item:first-of-type {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item.active {\r\n    background-color: #45a0ff;\r\n    color: #fff;\r\n    border-color: rgb(107, 154, 255);\r\n\r\n  }\r\n\r\n  .tags-view-container .tags-view-item.active::before {\r\n    content: \"\";\r\n    background: #fff;\r\n    display: inline-block;\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    position: relative;\r\n    margin-right: 2px;\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .tags-view-container .tags-view-item .el-icon-close {\r\n    width: 16px;\r\n    height: 16px;\r\n    vertical-align: 2px;\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    transform-origin: 100% 50%;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item .el-icon-close:before {\r\n    transform: scale(0.6);\r\n    display: inline-block;\r\n    vertical-align: -3px;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item .el-icon-close:hover {\r\n    background-color: #b4bccc;\r\n    color: #fff;\r\n  }\r\n</style>\r\n"]}])},"26a5":function(e,t,n){"use strict";var r=n("bcf4"),i=n.n(r);i.a},"37c8":function(e,t,n){t.f=n("2b4c")},"3a72":function(e,t,n){var r=n("7726"),i=n("8378"),o=n("2d00"),a=n("37c8"),s=n("86cc").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},"454f":function(e,t,n){n("46a7");var r=n("584a").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},"456d":function(e,t,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(e){return i(r(e))}}))},"46a7":function(e,t,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"4e6f":function(e,t,n){t=e.exports=n("24fb")(!0),t.push([e.i,'.tags-view-container[data-v-b0a27152]{background:#fff;height:30px;box-sizing:border-box;border-bottom:1px solid #d8dce5;box-shadow:0 1px 3px 0 rgba(0,0,0,.12),0 0 3px 0 rgba(0,0,0,.04)}.tags-view-container .tags-view-item[data-v-b0a27152]{display:inline-block;position:relative;height:26px;line-height:26px;border:1px solid #d8dce5;background:#fff;padding:0 8px;font-size:12px;margin-left:5px;margin-top:4px;text-decoration:none;font-weight:700;color:#666}.tags-view-container .tags-view-item[data-v-b0a27152]:first-of-type{margin-left:15px}.tags-view-container .tags-view-item.active[data-v-b0a27152]{background-color:#45a0ff;color:#fff;border-color:#6b9aff}.tags-view-container .tags-view-item.active[data-v-b0a27152]:before{content:"";background:#fff;display:inline-block;width:8px;height:8px;border-radius:50%;position:relative;margin-right:2px}',"",{version:3,sources:["H:/WORKWORK_TEST/vue-elementui-admin-sample/src/views/Layout/TagsBar/src/views/Layout/TagsBar/index.vue"],names:[],mappings:"AA4FA,sCACA,eAAA,CACA,WAAA,CACA,qBAAA,CACA,+BAAA,CACA,gEACA,CAEA,sDACA,oBAAA,CACA,iBAAA,CACA,WAAA,CACA,gBAAA,CACA,wBAAA,CACA,eAAA,CACA,aAAA,CACA,cAAA,CACA,eAAA,CACA,cAAA,CACA,oBAAA,CACA,eAAA,CACA,UACA,CAEA,oEACA,gBACA,CAEA,6DACA,wBAAA,CACA,UAAA,CACA,oBAEA,CAEA,oEACA,UAAA,CACA,eAAA,CACA,oBAAA,CACA,SAAA,CACA,UAAA,CACA,iBAAA,CACA,iBAAA,CACA,gBACA",file:"index.vue?vue&type=style&index=0&id=b0a27152&scoped=true&lang=css&",sourcesContent:["<template>\r\n  <scroll-pane class='tags-view-container' ref='scrollPane'>\r\n    <router-link ref='tag' class=\"tags-view-item\" :class=\"isActive(tag)?'active':''\" v-for=\"tag in visitedViews\" :to=\"tag.path\" :key=\"tag.path\">\r\n      {{ tag.meta.title }}<span v-if=\"tag.meta.title!=='首页'\" class='el-icon-close' @click='closeViewTags(tag,$event)'/>\r\n    </router-link>\r\n  </scroll-pane>\r\n</template>\r\n\r\n<script>\r\n  import ScrollPane from './ScrollPanel';\r\n  import HOME_ROUTE_DEFINITION from '../HomeRouteDefinition';\r\n\r\n  export default {\r\n    name: 'TagsBar',\r\n    data() {\r\n      return {\r\n        visitedViews: [\r\n          HOME_ROUTE_DEFINITION\r\n        ],\r\n      };\r\n    },\r\n    components: { ScrollPane },\r\n    mounted() {\r\n      this.addViewTags();\r\n    },\r\n    methods: {\r\n      closeViewTags(view, $event) {\r\n        //遍历数组删除tag\r\n        let tagIndex = 0;\r\n        for (const [i, v] of this.visitedViews.entries()) {\r\n          if (v.path === view.path) {\r\n            this.visitedViews.splice(i, 1);\r\n            tagIndex = i;\r\n            break;\r\n          }\r\n        }\r\n        //如果删除的tag是激活的状态，需跳转页面\r\n        if (this.isActive(view)) {\r\n          //总是跳到当前激活tag的前一个，如果没有前一个，就跳到下一个\r\n          const latestView = this.visitedViews.slice(Math.max(tagIndex - 1, 0))[0];\r\n          if (latestView) {\r\n            this.$router.push(latestView.path);\r\n          } else {\r\n            this.$router.push('/home');\r\n          }\r\n        }\r\n        $event.preventDefault();\r\n      },\r\n      generateRoute() {\r\n        if (this.$route.name) {\r\n          return this.$route;\r\n        }\r\n        return null;\r\n      },\r\n      addViewTags() {\r\n        const route = this.generateRoute();\r\n        if (route == null) {\r\n          console.log('此路由信息没有name值，请修改');\r\n          return false;\r\n        }\r\n        if (this.visitedViews.some(v => v.path === route.path)) return;\r\n        this.visitedViews.push({\r\n          path: route.path,\r\n          meta: { title: route.meta.title }\r\n        });\r\n        console.log('this.visitedViews',this.visitedViews)\r\n      },\r\n      isActive(route) {\r\n        return route.path === this.$route.path || route.name === this.$route.name;\r\n      },\r\n      moveToCurrentTag() {\r\n        const tags = this.$refs.tag;\r\n        this.$nextTick(() => {\r\n          for (const tag of tags) {\r\n            if (tag.to === this.$route.path) {\r\n              this.$refs.scrollPane.moveToTarget(tag.$el);\r\n              break;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    watch: {\r\n      $route() {\r\n        this.addViewTags();\r\n        this.moveToCurrentTag();\r\n      }\r\n    }\r\n  };\r\n<\/script>\r\n\r\n<style scoped>\r\n  .tags-view-container {\r\n    background: #fff;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #d8dce5;\r\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 0 3px 0 rgba(0, 0, 0, 0.04);\r\n  }\r\n\r\n  .tags-view-container .tags-view-item {\r\n    display: inline-block;\r\n    position: relative;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    border: 1px solid #d8dce5;\r\n    background: #fff;\r\n    padding: 0 8px;\r\n    font-size: 12px;\r\n    margin-left: 5px;\r\n    margin-top: 4px;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n    color: #666;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item:first-of-type {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item.active {\r\n    background-color: #45a0ff;\r\n    color: #fff;\r\n    border-color: rgb(107, 154, 255);\r\n\r\n  }\r\n\r\n  .tags-view-container .tags-view-item.active::before {\r\n    content: \"\";\r\n    background: #fff;\r\n    display: inline-block;\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    position: relative;\r\n    margin-right: 2px;\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .tags-view-container .tags-view-item .el-icon-close {\r\n    width: 16px;\r\n    height: 16px;\r\n    vertical-align: 2px;\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    transform-origin: 100% 50%;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item .el-icon-close:before {\r\n    transform: scale(0.6);\r\n    display: inline-block;\r\n    vertical-align: -3px;\r\n  }\r\n\r\n  .tags-view-container .tags-view-item .el-icon-close:hover {\r\n    background-color: #b4bccc;\r\n    color: #fff;\r\n  }\r\n</style>\r\n"]}])},5260:function(e,t,n){var r=n("59bc");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("7e680de5",r,!0,{sourceMap:!0,shadowMode:!1})},"594a":function(e,t,n){var r=n("cb0f");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("3d721873",r,!0,{sourceMap:!0,shadowMode:!1})},"59bc":function(e,t,n){t=e.exports=n("24fb")(!0),t.push([e.i,".app-breadcrumb.el-breadcrumb[data-v-3c98d7ed]{transition:all .5s;display:inline-block;font-size:14px;line-height:50px;margin-left:10px}.app-breadcrumb.el-breadcrumb .no-redirect[data-v-3c98d7ed]{font-weight:700;color:#727a8e;cursor:text}.app-breadcrumb[data-v-3c98d7ed]{color:#fff!important}.breadcrumb-enter[data-v-3c98d7ed]{opacity:0;transform:translateX(-20px)}.breadcrumb-enter-active[data-v-3c98d7ed]{transition:all .5s}.breadcrumb-leave-active[data-v-3c98d7ed]{position:absolute;transition:all .5s;opacity:0;transform:translateX(20px)}.breadcrumb-move[data-v-3c98d7ed]{transition:all .5s}","",{version:3,sources:["H:/WORKWORK_TEST/vue-elementui-admin-sample/src/views/Layout/NavBar/src/views/Layout/NavBar/Breadcrumb.vue"],names:[],mappings:"AA6CA,+CACA,kBAAA,CACA,oBAAA,CACA,cAAA,CACA,gBAAA,CACA,gBACA,CAEA,4DACA,eAAA,CACA,aAAA,CACA,WACA,CAEA,iCACA,oBACA,CAGA,mCACA,SAAA,CACA,2BACA,CAEA,0CACA,kBACA,CAEA,0CACA,iBAAA,CACA,kBAAA,CAIA,SAAA,CACA,0BAJA,CAOA,kCACA,kBACA",file:"Breadcrumb.vue?vue&type=style&index=0&id=3c98d7ed&scoped=true&lang=css&",sourcesContent:['<template>\r\n  <el-breadcrumb separator="/" class="app-breadcrumb">\r\n    <transition-group name="breadcrumb">\r\n      <el-breadcrumb-item v-for="(item,index) in levelList" :key="item.path" v-if=\'item.meta.title\'>\r\n        <router-link v-if="item.meta.title===\'首页\'" :to="item.redirect||item.path">{{(item.meta.title)}}</router-link>\r\n        <span v-else-if=\'item.path\' class="no-redirect">{{item.meta.title}}</span>\r\n      </el-breadcrumb-item>\r\n    </transition-group>\r\n  </el-breadcrumb>\r\n</template>\r\n\r\n<script>\r\n  import HOME_ROUTE_DEFINITION from \'../HomeRouteDefinition\';\r\n\r\n  export default {\r\n    name: \'Breadcrumb\',\r\n    created() {\r\n      this.getBreadcrumb();\r\n    },\r\n    data() {\r\n      return {\r\n        levelList: null\r\n      };\r\n    },\r\n    watch: {\r\n      $route() {\r\n        this.getBreadcrumb();\r\n      }\r\n    },\r\n    methods: {\r\n      getBreadcrumb() {\r\n        let matched = this.$route.matched;\r\n        const first = this.$route;\r\n        if (first && first.meta.title !== \'首页\') {\r\n          matched = [HOME_ROUTE_DEFINITION].concat(matched);\r\n        } else {\r\n          matched = [HOME_ROUTE_DEFINITION];\r\n        }\r\n        this.levelList = matched;\r\n      }\r\n    }\r\n  };\r\n<\/script>\r\n\r\n<style scoped>\r\n  .app-breadcrumb.el-breadcrumb {\r\n    transition: all 0.5s;\r\n    display: inline-block;\r\n    font-size: 14px;\r\n    line-height: 50px;\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .app-breadcrumb.el-breadcrumb .no-redirect {\r\n    font-weight: bold;\r\n    color: #727a8e;\r\n    cursor: text;\r\n  }\r\n\r\n  .app-breadcrumb {\r\n    color: white !important;\r\n  }\r\n\r\n  /*面包屑文字切换效果breadcrumb-xxx*/\r\n  .breadcrumb-enter {\r\n    opacity: 0;\r\n    transform: translateX(-20px);\r\n  }\r\n\r\n  .breadcrumb-enter-active {\r\n    transition: all .5s;\r\n  }\r\n\r\n  .breadcrumb-leave-active {\r\n    position: absolute;\r\n    transition: all .5s;\r\n  }\r\n\r\n  .breadcrumb-leave-active {\r\n    opacity: 0;\r\n    transform: translateX(20px);\r\n  }\r\n\r\n  .breadcrumb-move {\r\n    transition: all .5s;\r\n  }\r\n</style>\r\n']}])},"5eda":function(e,t,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},"67ab":function(e,t,n){var r=n("ca5a")("meta"),i=n("d3f4"),o=n("69a8"),a=n("86cc").f,s=0,l=Object.isExtensible||function(){return!0},c=!n("79e5")((function(){return l(Object.preventExtensions({}))})),d=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[r].i},u=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[r].w},p=function(e){return c&&h.NEED&&l(e)&&!o(e,r)&&d(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:u,onFreeze:p}},7046:function(e,t,n){var r=n("06a2");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("56ccfae3",r,!0,{sourceMap:!0,shadowMode:!1})},"7bbc":function(e,t,n){var r=n("6821"),i=n("9093").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},"7f59":function(e,t,n){e.exports=n.p+"static/img/userAvatar.f4734cdb.png"},"7f7f":function(e,t,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"807c":function(e,t,n){"use strict";var r=n("1681"),i=n.n(r);i.a},"85f2":function(e,t,n){e.exports=n("454f")},"8a43":function(e,t,n){t=e.exports=n("24fb")(!0),t.push([e.i,".scroll-container[data-v-69008151]{white-space:nowrap;position:relative;overflow:hidden}.scroll-container .scroll-wrapper[data-v-69008151]{position:absolute}","",{version:3,sources:["H:/WORKWORK_TEST/vue-elementui-admin-sample/src/views/Layout/TagsBar/src/views/Layout/TagsBar/ScrollPanel.vue"],names:[],mappings:"AAyDA,mCACA,kBAAA,CACA,iBAAA,CACA,eACA,CAEA,mDACA,iBACA",file:"ScrollPanel.vue?vue&type=style&index=0&id=69008151&scoped=true&lang=css&",sourcesContent:['<template>\r\n  <div class="scroll-container" ref="scrollContainer" @mousewheel="handleScroll">\r\n    <div class="scroll-wrapper" ref="scrollWrapper" :style="{left: left + \'px\'}">\r\n      <slot/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  const padding = 15; // tag\'s padding\r\n\r\n  export default {\r\n    name: \'ScrollPane\',\r\n    data() {\r\n      return {\r\n        left: 0\r\n      };\r\n    },\r\n    methods: {\r\n      handleScroll(e) {\r\n        e.preventDefault();\r\n        const $container = this.$refs.scrollContainer;\r\n        const $containerWidth = $container.offsetWidth;\r\n        const $wrapper = this.$refs.scrollWrapper;\r\n        const $wrapperWidth = $wrapper.offsetWidth;\r\n\r\n        if (e.wheelDelta > 0) {\r\n          this.left = Math.min(0, this.left + e.wheelDelta);\r\n        } else {\r\n          // console.log(\'scrollPane\', $container.clientLeft, $containerWidth, padding, $wrapperWidth, $containerWidth - padding < $wrapperWidth);\r\n          if ($containerWidth - padding < $wrapperWidth) {\r\n            if (this.left < -($wrapperWidth - $containerWidth + padding)) {\r\n            } else {\r\n              this.left = Math.max(this.left + e.wheelDelta, $containerWidth - $wrapperWidth - padding);\r\n            }\r\n          } else {\r\n            this.left = 0;\r\n          }\r\n        }\r\n      },\r\n      moveToTarget($target) {\r\n        const $container = this.$refs.scrollContainer;\r\n        const $containerWidth = $container.offsetWidth;\r\n        const $targetLeft = $target.offsetLeft;\r\n        const $targetWidth = $target.offsetWidth;\r\n        if ($targetLeft < -this.left) {\r\n          this.left = -$targetLeft + padding;\r\n        } else if ($targetLeft + padding > -this.left && $targetLeft + $targetWidth < -this.left + $containerWidth - padding) {\r\n        } else {\r\n          this.left = -($targetLeft - ($containerWidth - $targetWidth) + padding);\r\n        }\r\n      }\r\n    }\r\n  };\r\n<\/script>\r\n\r\n<style scoped>\r\n  .scroll-container {\r\n    white-space: nowrap;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .scroll-container .scroll-wrapper {\r\n    position: absolute;\r\n  }\r\n</style>\r\n']}])},"8a81":function(e,t,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("9e1e"),a=n("5ca1"),s=n("2aba"),l=n("67ab").KEY,c=n("79e5"),d=n("5537"),f=n("7f20"),u=n("ca5a"),p=n("2b4c"),h=n("37c8"),m=n("3a72"),g=n("d4c0"),v=n("1169"),A=n("cb7c"),b=n("d3f4"),w=n("4bf8"),x=n("6821"),C=n("6a99"),y=n("4630"),$=n("2aeb"),B=n("7bbc"),k=n("11e9"),O=n("2621"),T=n("86cc"),S=n("0d58"),P=k.f,N=T.f,E=B.f,_=r.Symbol,V=r.JSON,I=V&&V.stringify,W="prototype",R=p("_hidden"),H=p("toPrimitive"),F={}.propertyIsEnumerable,j=d("symbol-registry"),L=d("symbols"),D=d("op-symbols"),M=Object[W],z="function"==typeof _&&!!O.f,U=r.QObject,K=!U||!U[W]||!U[W].findChild,J=o&&c((function(){return 7!=$(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(M,t);r&&delete M[t],N(e,t,n),r&&e!==M&&N(M,t,r)}:N,q=function(e){var t=L[e]=$(_[W]);return t._k=e,t},X=z&&"symbol"==typeof _.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof _},G=function(e,t,n){return e===M&&G(D,t,n),A(e),t=C(t,!0),A(n),i(L,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=$(n,{enumerable:y(0,!1)})):(i(e,R)||N(e,R,y(1,{})),e[R][t]=!0),J(e,t,n)):N(e,t,n)},Y=function(e,t){A(e);var n,r=g(t=x(t)),i=0,o=r.length;while(o>i)G(e,n=r[i++],t[n]);return e},Q=function(e,t){return void 0===t?$(e):Y($(e),t)},Z=function(e){var t=F.call(this,e=C(e,!0));return!(this===M&&i(L,e)&&!i(D,e))&&(!(t||!i(this,e)||!i(L,e)||i(this,R)&&this[R][e])||t)},ee=function(e,t){if(e=x(e),t=C(t,!0),e!==M||!i(L,t)||i(D,t)){var n=P(e,t);return!n||!i(L,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},te=function(e){var t,n=E(x(e)),r=[],o=0;while(n.length>o)i(L,t=n[o++])||t==R||t==l||r.push(t);return r},ne=function(e){var t,n=e===M,r=E(n?D:x(e)),o=[],a=0;while(r.length>a)!i(L,t=r[a++])||n&&!i(M,t)||o.push(L[t]);return o};z||(_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),t=function(n){this===M&&t.call(D,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),J(this,e,y(1,n))};return o&&K&&J(M,e,{configurable:!0,set:t}),q(e)},s(_[W],"toString",(function(){return this._k})),k.f=ee,T.f=G,n("9093").f=B.f=te,n("52a7").f=Z,O.f=ne,o&&!n("2d00")&&s(M,"propertyIsEnumerable",Z,!0),h.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!z,{Symbol:_});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)p(re[ie++]);for(var oe=S(p.store),ae=0;oe.length>ae;)m(oe[ae++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=_(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),a(a.S+a.F*!z,"Object",{create:Q,defineProperty:G,defineProperties:Y,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var se=c((function(){O.f(1)}));a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function(e){return O.f(w(e))}}),V&&a(a.S+a.F*(!z||c((function(){var e=_();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))}))),"JSON",{stringify:function(e){var t,n,r=[e],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!X(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,I.apply(V,r)}}),_[W][H]||n("32e9")(_[W],H,_[W].valueOf),f(_,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},"8e6e":function(e,t,n){var r=n("5ca1"),i=n("990b"),o=n("6821"),a=n("11e9"),s=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),l=a.f,c=i(r),d={},f=0;while(c.length>f)n=l(r,t=c[f++]),void 0!==n&&s(d,t,n);return d}})},9093:function(e,t,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},9873:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5c96");function i(e){var t=e.result,n=e.msg;Object(r["Notification"])({customClass:"custom-message-box-z-index",title:"操作"+(t?"成功":"失败"),message:t?null:n,type:t?"success":"error"})}},"990b":function(e,t,n){var r=n("9093"),i=n("2621"),o=n("cb7c"),a=n("7726").Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},"992f":function(e,t,n){"use strict";var r=n("0ea2"),i=n.n(r);i.a},a36a:function(e,t,n){t=e.exports=n("24fb")(!0),t.push([e.i,".headPortrait[data-v-277e8b92]{margin:7px 0;float:right;height:50px}","",{version:3,sources:["H:/WORKWORK_TEST/vue-elementui-admin-sample/src/views/Layout/NavBar/src/views/Layout/NavBar/index.vue"],names:[],mappings:"AA6HA,+BACA,YAAA,CACA,WAAA,CACA,WACA",file:"index.vue?vue&type=style&index=0&id=277e8b92&scoped=true&lang=css&",sourcesContent:['<template>\n  <el-header ref="header">\n    <div style="float:left;font-weight: bold;font-size: 20px;color: #6b9aff;line-height: 50px;padding-right:20px;">管理系统</div>\n    <breadcrumb/>\n    <el-dropdown class="headPortrait" @command="handleCommand">\n      <div style="width:35px;height:35px;cursor:pointer;border-radius: 5px;overflow: hidden;box-shadow: 0 0 5px gray">\n        <img :src="Img.UserAvatar" height="36" alt="头像">\n      </div>\n      <el-dropdown-menu slot="dropdown">\n        <el-dropdown-item command="changePassword">修改密码</el-dropdown-item>\n        <el-dropdown-item command="logout">退出登录</el-dropdown-item>\n      </el-dropdown-menu>\n    </el-dropdown>\n    <div style="float:right;font-weight: bold;font-size: 16px;color: #555;line-height: 50px;padding-right:10px;">{{nickname}}</div>\n    \x3c!--修改个人密码--\x3e\n    <el-dialog :close-on-click-modal="false" title="修改密码" width="400px" :visible.sync="dialogFormVisible">\n      <el-form :model="form" label-position="left" label-width="100px">\n        <el-form-item required label="旧密码">\n          <el-input type="password" v-model="form.oldPassword"/>\n        </el-form-item>\n        <el-form-item required label="新密码">\n          <el-input type="password" v-model="form.newPassword"/>\n        </el-form-item>\n        <el-form-item required label="重复新密码">\n          <el-input type="password" v-model="newPasswordCheck"/>\n        </el-form-item>\n      </el-form>\n      <div slot="footer" class="dialog-footer">\n        <el-button @click="dialogFormVisible = false">取 消</el-button>\n        <el-button type="primary" @click="dialogChangePersonalPassword">确 定</el-button>\n      </div>\n    </el-dialog>\n  </el-header>\n</template>\n\n<script>\n  import { removeLoginInfo, removeToken } from \'src/utils/cookies\';\n  import Img from \'src/assets/img\';\n  import Breadcrumb from \'./Breadcrumb\';\n  import { Notification } from \'element-ui\';\n  import HomeApi from \'src/api/home-api\';\n\n  export default {\n    name: \'NavBar\',\n    components: { Breadcrumb },\n    data() {\n      return {\n        Img,\n        nickname: \'\',\n        dialogFormVisible: false,\n        form: {\n          oldPassword: \'\',\n          newPassword: \'\',\n        },\n        newPasswordCheck: \'\',\n      };\n    },\n    methods: {\n      initNickname(nickname) {\n        this.nickname = nickname;\n      },\n      handleCommand(command) {\n        if (command === \'changePassword\') {\n          this.dialogFormVisible = true;\n          return;\n        }\n        if (command === \'logout\') {\n          this.$confirm(\'此操作将退出此账号, 是否继续?\', \'提示\', {\n            confirmButtonText: \'确定\',\n            cancelButtonText: \'取消\',\n            type: \'warning\',\n          })\n            .then(() => {\n              removeToken();\n              removeLoginInfo();\n              if (this.$socket) {\n                this.$socket.disconnect();\n              }\n              this.$message({\n                type: \'success\',\n                message: \'已退出\',\n              });\n              this.$router.replace(\'/\');\n            });\n        }\n      },\n      dialogChangePersonalPassword() {\n        if (this.form.oldPassword.length === 0) {\n          Notification.warning({\n            title: \'信息有误\',\n            message: \'旧密码不能为空\'\n          });\n          return;\n        }\n        if (this.form.newPassword.length === 0) {\n          Notification.warning({\n            title: \'信息有误\',\n            message: \'新密码不能为空\'\n          });\n          return;\n        }\n        if (this.form.newPassword !== this.newPasswordCheck) {\n          Notification.warning({\n            title: \'信息有误\',\n            message: \'两次输入的新密码不一致\'\n          });\n          return;\n        }\n        HomeApi.setChangePersonalPassword(this.form)\n          .then((result) => {\n            if (result) {\n              this.dialogFormVisible = false;\n              this.form = {\n                oldPassword: \'\',\n                newPassword: \'\',\n              };\n              this.newPasswordCheck = \'\';\n            }\n          });\n      },\n    }\n  };\n<\/script>\n\n<style scoped>\n  .headPortrait {\n    margin: 7px 0;\n    float: right;\n    height: 50px;\n  }\n</style>\n']}])},ac4d:function(e,t,n){n("3a72")("asyncIterator")},b3e5:function(e,t,n){"use strict";var r=n("5260"),i=n.n(r);i.a},bcf4:function(e,t,n){var r=n("8a43");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("eef05440",r,!0,{sourceMap:!0,shadowMode:!1})},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("85f2"),i=n.n(r);function o(e,t,n){return t in e?i()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},c79b:function(e,t,n){"use strict";var r=n("594a"),i=n.n(r);i.a},cb0f:function(e,t,n){t=e.exports=n("24fb")(!0),t.push([e.i,"[data-v-b2a77d7a] .el-menu-vertical-demo:not(.el-menu--collapse){width:180px}[data-v-b2a77d7a] .el-menu--collapse{width:40px}","",{version:3,sources:["H:/WORKWORK_TEST/vue-elementui-admin-sample/src/views/Layout/SideBar/src/views/Layout/SideBar/index.vue"],names:[],mappings:"AA2CA,iEACA,WACA,CAEA,qCACA,UACA",file:"index.vue?vue&type=style&index=0&id=b2a77d7a&scoped=true&lang=css&",sourcesContent:['<template>\r\n  <el-menu mode="vertical" class="el-menu-vertical-demo" router :default-active="$route.path" background-color="#545c64" text-color="#fff" active-text-color="#409EFF">\r\n    <side-bar-item  ref="MenuItem"/>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\n  import SideBarItem from \'./SideBarItem\';\r\n\r\n  import routes from \'src/router/routes\';\r\n\r\n  export default {\r\n    name:\'SideBar\',\r\n    components: { SideBarItem },\r\n    data() {\r\n      return {\r\n        sideNavigationRoutes: JSON.parse(JSON.stringify(routes)),\r\n      };\r\n    },\r\n\r\n    methods: {\r\n      initSideBar(permissionValueList) {\r\n        //获取用户信息\r\n        this.setStateForSideNavigationRoutes(this.sideNavigationRoutes, permissionValueList);\r\n        console.log(this.sideNavigationRoutes)\r\n        this.$refs.MenuItem.initMenu(this.sideNavigationRoutes);\r\n      },\r\n      //为侧边栏菜单设置state属性，控制显示或隐藏\r\n      setStateForSideNavigationRoutes(routes, sideBarPermissionValueList) {\r\n        routes.forEach((route) => {\r\n          //有[ADMIN]权限时，认定为管理员，显示所有菜单\r\n          if (sideBarPermissionValueList.indexOf(\'[ADMIN]\') >= 0 || route.meta && sideBarPermissionValueList.indexOf(route.meta.value) >= 0) {\r\n            route.state = true;\r\n          }\r\n          if (route.children) {\r\n            this.setStateForSideNavigationRoutes(route.children,sideBarPermissionValueList);\r\n          }\r\n        });\r\n      }\r\n    },\r\n  };\r\n<\/script>\r\n<style scoped>\r\n  /deep/ .el-menu-vertical-demo:not(.el-menu--collapse) {\r\n    width: 180px;\r\n  }\r\n\r\n  /deep/ .el-menu--collapse {\r\n    width: 40px;\r\n  }\r\n\r\n</style>\r\n']}])},d1bb:function(e,t,n){"use strict";var r=n("7f59"),i=n.n(r);t["a"]={UserAvatar:i.a}},d4c0:function(e,t,n){var r=n("0d58"),i=n("2621"),o=n("52a7");e.exports=function(e){var t=r(e),n=i.f;if(n){var a,s=n(e),l=o.f,c=0;while(s.length>c)l.call(e,a=s[c++])&&t.push(a)}return t}},e134:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"absolute",height:"100%",width:"100%"}},[n("el-container",[n("NavBar",{ref:"NavBar",staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"50px","border-bottom":"1px solid #BFBFBF",overflow:"hidden","box-sizing":"border-box"}}),n("SideBar",{ref:"SideBar",staticStyle:{position:"absolute",top:"50px",left:"0",bottom:"0","overflow-x":"hidden",width:"180px","background-color":"rgb(84, 92, 100)"}}),n("TagsBar",{ref:"TagsBar",staticStyle:{position:"absolute",top:"50px",left:"180px",right:"0",height:"30px"}}),n("div",{staticStyle:{position:"absolute",top:"80px",left:"180px",right:"0",bottom:"0","overflow-x":"hidden"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)],1)},i=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=n("2f62"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{mode:"vertical",router:"","default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#409EFF"}},[n("side-bar-item",{ref:"MenuItem"})],1)},l=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.routes,(function(t){return[!t.meta.hidden&&t.state?n("el-submenu",{key:t.path,attrs:{index:0===t.path.indexOf("/")?t.path:t.path+"/"+t.path}},[n("template",{slot:"title"},[n("img",{attrs:{src:e.getIcon(t),height:"20px",alt:""}}),n("span",[e._v(e._s(e.getTitle(t)))])]),e._l(t.children,(function(r){return r.hidden?e._e():[r.children?n("side-bar-item",{attrs:{routes:[r]}}):e._e(),r.meta.hidden||r.children||!r.state?e._e():n("el-menu-item",{attrs:{index:0===r.path.indexOf("/")?r.path:t.path+"/"+r.path}},[n("img",{attrs:{src:e.getIcon(r),height:"20px",alt:""}}),n("span",[e._v(e._s(e.getTitle(r)))])])]}))],2):e._e()]}))],2)},d=[],f={name:"SideBarItem",data:function(){return{routes:[]}},methods:{initMenu:function(e){this.routes=e},getIcon:function(e){if(e&&e.meta)return e.meta.icon},getTitle:function(e){if(e&&e.meta)return e.meta.title}}},u=f,p=n("2877"),h=Object(p["a"])(u,c,d,!1,null,null,null),m=h.exports,g=n("d046"),v={name:"SideBar",components:{SideBarItem:m},data:function(){return{sideNavigationRoutes:JSON.parse(JSON.stringify(g["a"]))}},methods:{initSideBar:function(e){this.setStateForSideNavigationRoutes(this.sideNavigationRoutes,e),console.log(this.sideNavigationRoutes),this.$refs.MenuItem.initMenu(this.sideNavigationRoutes)},setStateForSideNavigationRoutes:function(e,t){var n=this;e.forEach((function(e){(t.indexOf("[ADMIN]")>=0||e.meta&&t.indexOf(e.meta.value)>=0)&&(e.state=!0),e.children&&n.setStateForSideNavigationRoutes(e.children,t)}))}}},A=v,b=(n("c79b"),Object(p["a"])(A,s,l,!1,null,"b2a77d7a",null)),w=b.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-header",{ref:"header"},[n("div",{staticStyle:{float:"left","font-weight":"bold","font-size":"20px",color:"#6b9aff","line-height":"50px","padding-right":"20px"}},[e._v("管理系统")]),n("breadcrumb"),n("el-dropdown",{staticClass:"headPortrait",on:{command:e.handleCommand}},[n("div",{staticStyle:{width:"35px",height:"35px",cursor:"pointer","border-radius":"5px",overflow:"hidden","box-shadow":"0 0 5px gray"}},[n("img",{attrs:{src:e.Img.UserAvatar,height:"36",alt:"头像"}})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"changePassword"}},[e._v("修改密码")]),n("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登录")])],1)],1),n("div",{staticStyle:{float:"right","font-weight":"bold","font-size":"16px",color:"#555","line-height":"50px","padding-right":"10px"}},[e._v(e._s(e.nickname))]),n("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改密码",width:"400px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{model:e.form,"label-position":"left","label-width":"100px"}},[n("el-form-item",{attrs:{required:"",label:"旧密码"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.oldPassword,callback:function(t){e.$set(e.form,"oldPassword",t)},expression:"form.oldPassword"}})],1),n("el-form-item",{attrs:{required:"",label:"新密码"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),n("el-form-item",{attrs:{required:"",label:"重复新密码"}},[n("el-input",{attrs:{type:"password"},model:{value:e.newPasswordCheck,callback:function(t){e.newPasswordCheck=t},expression:"newPasswordCheck"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.dialogChangePersonalPassword}},[e._v("确 定")])],1)],1)],1)},C=[],y=(n("a481"),n("6a1d")),$=n("d1bb"),B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[n("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.levelList,(function(t,r){return t.meta.title?n("el-breadcrumb-item",{key:t.path},["首页"===t.meta.title?n("router-link",{attrs:{to:t.redirect||t.path}},[e._v(e._s(t.meta.title))]):t.path?n("span",{staticClass:"no-redirect"},[e._v(e._s(t.meta.title))]):e._e()],1):e._e()})),1)],1)},k=[],O={path:"/home/homePage",meta:{title:"首页"}},T=O,S={name:"Breadcrumb",created:function(){this.getBreadcrumb()},data:function(){return{levelList:null}},watch:{$route:function(){this.getBreadcrumb()}},methods:{getBreadcrumb:function(){var e=this.$route.matched,t=this.$route;e=t&&"首页"!==t.meta.title?[T].concat(e):[T],this.levelList=e}}},P=S,N=(n("b3e5"),Object(p["a"])(P,B,k,!1,null,"3c98d7ed",null)),E=N.exports,_=n("5c96"),V=n("b775"),I=n("9873"),W={setChangePersonalPassword:function(e){return new Promise((function(t){Object(V["a"])({method:"patch",url:"/myaccount",data:e}).then((function(e){var n=e.data,r=e.headers;Object(I["a"])(n),n.result&&Object(y["g"])(r.authorization),t(n.result)}))}))}},R={name:"NavBar",components:{Breadcrumb:E},data:function(){return{Img:$["a"],nickname:"",dialogFormVisible:!1,form:{oldPassword:"",newPassword:""},newPasswordCheck:""}},methods:{initNickname:function(e){this.nickname=e},handleCommand:function(e){var t=this;"changePassword"!==e?"logout"===e&&this.$confirm("此操作将退出此账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(y["e"])(),Object(y["d"])(),t.$socket&&t.$socket.disconnect(),t.$message({type:"success",message:"已退出"}),t.$router.replace("/")})):this.dialogFormVisible=!0},dialogChangePersonalPassword:function(){var e=this;0!==this.form.oldPassword.length?0!==this.form.newPassword.length?this.form.newPassword===this.newPasswordCheck?W.setChangePersonalPassword(this.form).then((function(t){t&&(e.dialogFormVisible=!1,e.form={oldPassword:"",newPassword:""},e.newPasswordCheck="")})):_["Notification"].warning({title:"信息有误",message:"两次输入的新密码不一致"}):_["Notification"].warning({title:"信息有误",message:"新密码不能为空"}):_["Notification"].warning({title:"信息有误",message:"旧密码不能为空"})}}},H=R,F=(n("992f"),Object(p["a"])(H,x,C,!1,null,"277e8b92",null)),j=F.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-container"},e._l(e.visitedViews,(function(t){return n("router-link",{key:t.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:t.path}},[e._v("\n    "+e._s(t.meta.title)),"首页"!==t.meta.title?n("span",{staticClass:"el-icon-close",on:{click:function(n){return e.closeViewTags(t,n)}}}):e._e()])})),1)},D=[],M=(n("7f7f"),n("768b")),z=(n("ac4d"),n("8a81"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{mousewheel:e.handleScroll}},[n("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{left:e.left+"px"}},[e._t("default")],2)])}),U=[],K=15,J={name:"ScrollPane",data:function(){return{left:0}},methods:{handleScroll:function(e){e.preventDefault();var t=this.$refs.scrollContainer,n=t.offsetWidth,r=this.$refs.scrollWrapper,i=r.offsetWidth;e.wheelDelta>0?this.left=Math.min(0,this.left+e.wheelDelta):n-K<i?this.left<-(i-n+K)||(this.left=Math.max(this.left+e.wheelDelta,n-i-K)):this.left=0},moveToTarget:function(e){var t=this.$refs.scrollContainer,n=t.offsetWidth,r=e.offsetLeft,i=e.offsetWidth;r<-this.left?this.left=-r+K:r+K>-this.left&&r+i<-this.left+n-K||(this.left=-(r-(n-i)+K))}}},q=J,X=(n("26a5"),Object(p["a"])(q,z,U,!1,null,"69008151",null)),G=X.exports,Y={name:"TagsBar",data:function(){return{visitedViews:[T]}},components:{ScrollPane:G},mounted:function(){this.addViewTags()},methods:{closeViewTags:function(e,t){var n=0,r=!0,i=!1,o=void 0;try{for(var a,s=this.visitedViews.entries()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=Object(M["a"])(a.value,2),c=l[0],d=l[1];if(d.path===e.path){this.visitedViews.splice(c,1),n=c;break}}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}if(this.isActive(e)){var f=this.visitedViews.slice(Math.max(n-1,0))[0];f?this.$router.push(f.path):this.$router.push("/home")}t.preventDefault()},generateRoute:function(){return this.$route.name?this.$route:null},addViewTags:function(){var e=this.generateRoute();if(null==e)return console.log("此路由信息没有name值，请修改"),!1;this.visitedViews.some((function(t){return t.path===e.path}))||(this.visitedViews.push({path:e.path,meta:{title:e.meta.title}}),console.log("this.visitedViews",this.visitedViews))},isActive:function(e){return e.path===this.$route.path||e.name===this.$route.name},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.to===e.$route.path){e.$refs.scrollPane.moveToTarget(s.$el);break}}}catch(l){r=!0,i=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}))}},watch:{$route:function(){this.addViewTags(),this.moveToCurrentTag()}}},Q=Y,Z=(n("807c"),n("18e6"),Object(p["a"])(Q,L,D,!1,null,"b0a27152",null)),ee=Z.exports,te={getAuthInfo:function(e){return Object(V["a"])({method:"post",url:"/info"})}},ne=n("403a");function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe={name:"Home",components:{SideBar:w,NavBar:j,TagsBar:ee},data:function(){return{timer:!0}},sockets:{listener:{broadcast:function(e){_["Notification"].info({title:"广播："+e.msg,position:"bottom-right"})},msgToOneUser:function(e){_["Notification"].info({title:"新消息："+e.msg,position:"bottom-right"})},reconnecting:function(e){e>=3&&this.$socket.disconnect()}}},created:function(){this.initContentHeight(),this.initUserInfo()},mounted:function(){this.$socket&&(this.$socket.connected&&this.$socket.disconnect(),this.$socket.io.uri=ne["a"].SOCKET_URL+"?token="+Object(y["c"])(),this.$socket.connect())},beforeDestroy:function(){this.$socket&&this.$socket.disconnect()},methods:ie({},Object(a["b"])("layout",{setContentHeight:"setContentHeight",setContentWidth:"setContentWidth"}),{setSize:function(){var e=0;this.$refs.NavBar&&this.$refs.NavBar.$el&&this.$refs.NavBar.$el.offsetHeight&&(e=this.$refs.NavBar.$el.offsetHeight);var t=0;this.$refs.TagsBar&&this.$refs.TagsBar.$el&&this.$refs.TagsBar.$el.offsetHeight&&(t=this.$refs.TagsBar.$el.offsetHeight),this.setContentHeight(window.innerHeight-e-t),this.setContentWidth(window.innerWidth)},initContentHeight:function(){var e=this;this.$nextTick((function(){e.setSize()})),window.onresize=function(){e.timer&&(e.setSize(),setTimeout((function(){e.timer=!0}),16))}},initUserInfo:function(){var e=this;te.getAuthInfo().then((function(t){var n=t.data,r=n.data.user;y["f"](r),y["a"](),e.$refs.NavBar.initNickname(r.nickname),e.$refs.SideBar.initSideBar(r.permissionValueList)}))}})},ae=oe,se=(n("fe7d"),Object(p["a"])(ae,r,i,!1,null,"3384d823",null));t["default"]=se.exports},f1ae:function(e,t,n){"use strict";var r=n("86cc"),i=n("4630");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},fe7d:function(e,t,n){"use strict";var r=n("7046"),i=n.n(r);i.a}}]);